<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>RogueOS Web CLI</title>
<style>
#terminal{width:100%;height:90vh;border:1px solid #000;overflow:auto;font-family:monospace;}
</style>
</head>
<body>
<div id="terminal"></div>
<input id="input" type="text" style="width:100%;" autofocus />
<script>
const term = document.getElementById('terminal');
const input = document.getElementById('input');
const ws = new WebSocket('ws://'+location.host+'/ws');
ws.onmessage = e => {
  term.innerHTML += e.data + '<br>';
  term.scrollTop = term.scrollHeight;
};
input.addEventListener('keydown', e => {
  if(e.key === 'Enter'){
    ws.send(input.value);
    input.value='';
  }
});
</script>
</body>
</html>
